(this["webpackJsonpreact-ui"]=this["webpackJsonpreact-ui"]||[]).push([[0],{141:function(e,t,n){},150:function(e,t,n){"use strict";n.r(t);var c=n(2),i=n.n(c),a=n(26),r=n.n(a),s=(n(71),n(72),n(10)),o=n(62),j=n(47),h=n.n(j),d=n(58),l=n(21),b=n(156),u=n(157),O=n(158),x=n(159),f=n(160),p=n(161),g=n(162),k=n(29),m=n.n(k),v=n(16),y=n.n(v),F=n(59),C=n.n(F),L=(n(97),n(5));function B(e){var t=Object(c.useState)(""),n=Object(l.a)(t,2),i=n[0],a=n[1],r=Object(c.useState)(""),s=Object(l.a)(r,2),o=s[0],j=s[1];function k(){return(k=Object(d.a)(h.a.mark((function t(n){var c,a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),c=new FormData(n.target),a={title:c.get("title"),author:c.get("author"),publishYear:o.getFullYear(),imageURL:c.get("imageURL"),finished:c.get("isFinished"),rating:i},y.a.post("/books",a).then((function(t){e.history.push("/")}));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(L.jsx)("div",{className:"AddBook",children:Object(L.jsxs)(b.a,{onSubmit:function(e){return k.apply(this,arguments)},className:"form",children:[Object(L.jsx)(u.a,{children:Object(L.jsxs)(O.a,{children:[Object(L.jsx)(x.a,{children:Object(L.jsx)(f.a,{for:"bookTitle",children:"Title"})}),Object(L.jsx)(x.a,{children:Object(L.jsx)(p.a,{type:"text",name:"title",id:"title",placeholder:"Book title",required:!0})})]})}),Object(L.jsxs)(O.a,{children:[Object(L.jsx)(f.a,{for:"author",children:"Author"}),Object(L.jsx)(p.a,{type:"text",name:"author",id:"author",placeholder:"Book author",required:!0})]}),Object(L.jsx)(f.a,{for:"publishYear",children:"Year published"}),Object(L.jsx)(C.a,{selected:o,onChange:function(e){return j(e)},showYearPicker:!0,dateFormat:"yyyy",maxDate:new Date,className:"datepicker.dropdown-menu",required:!0,placeholderText:"yyyy"}),Object(L.jsxs)(O.a,{children:[Object(L.jsx)(f.a,{for:"imageURL",children:"Image url"}),Object(L.jsx)(p.a,{type:"url",name:"imageURL",id:"imageURL",placeholder:"Image URL",required:!0})]}),Object(L.jsxs)(O.a,{children:[Object(L.jsx)(p.a,{type:"checkbox",name:"isFinished",id:"isFinished",value:"true",defaultValue:"false"}),Object(L.jsx)(f.a,{for:"isFinished",children:"Finished"})]}),Object(L.jsx)(f.a,{for:"rating",children:"Rating:"}),Object(L.jsx)(m.a,{name:"rating",count:5,size:24,activeColor:"#ffd700",onChange:a}),Object(L.jsx)(g.a,{type:"submit",children:"Add Book"})]})})}var I=n(164),S=n(163);n(141);function R(e){var t=Object(c.useState)(e.book.finished),n=Object(l.a)(t,2),i=n[0],a=n[1];return Object(L.jsxs)("tr",{children:[Object(L.jsx)("th",{children:Object(L.jsx)(S.a,{object:!0,src:e.book.imageURL,className:"book_image"})}),Object(L.jsx)("th",{children:e.book.title}),Object(L.jsx)("th",{children:e.book.author}),Object(L.jsx)("th",{children:e.book.publishYear}),Object(L.jsx)("th",{children:Object(L.jsx)(p.a,{type:"checkbox",name:"isFinished",id:"isFinished",defaultChecked:i,onClick:function(t){return function(){var t=!i,n="/books/"+e.book.id,c={finished:t};y.a.patch(n,c).then((function(e){a(t)}))}()}})}),Object(L.jsx)("th",{children:Object(L.jsx)(m.a,{name:"rating",count:5,size:24,activeColor:"#ffd700",value:e.book.rating,onChange:function(t){return function(t){var n="/books/"+e.book.id;y.a.patch(n,{rating:t})}(t)}})}),Object(L.jsx)("th",{children:Object(L.jsx)(g.a,{name:"deleteBook",id:"deleteBook",onClick:function(t){y.a.delete("/books/"+e.book.id).then((function(t){e.handleChange()}))},children:"Delete"})})]})}function D(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),n=t[0],i=t[1],a=Object(c.useState)("ALL"),r=Object(l.a)(a,2),s=r[0],o=r[1],j=function(e){h()};function h(){y.a.get("/books").then((function(e){i(e.data._embedded.books)}))}function d(){return Object(L.jsxs)(p.a,{type:"select",name:"isFinishedSelect",id:"isFinishedSelect",onChange:function(e){return o(e.target.value)},value:s,children:[Object(L.jsx)("option",{value:"ALL",children:"Is Finished"}),Object(L.jsx)("option",{value:"FINISHED",children:"Finished Only"}),Object(L.jsx)("option",{value:"PENDING",children:"Pending Only"})]})}return Object(c.useEffect)((function(){h()}),[]),Object(L.jsxs)(I.a,{striped:!0,children:[Object(L.jsx)("thead",{children:Object(L.jsxs)("tr",{children:[Object(L.jsx)("th",{children:"Image"}),Object(L.jsx)("th",{children:"Title"}),Object(L.jsx)("th",{children:"Author"}),Object(L.jsx)("th",{children:"Published"}),Object(L.jsx)("th",{children:Object(L.jsx)(d,{})}),Object(L.jsx)("th",{children:"Rating"}),Object(L.jsx)("th",{})]})}),Object(L.jsx)("tbody",{children:n.filter((function(e){return function(e){return"FINISHED"===s?!e.finished:"PENDING"!==s||e.finished}(e)})).map((function(e){return Object(L.jsx)(R,{book:e,handleChange:j},e.id)}))})]})}var N=n(165),w=n(166),U=n(167);function A(){return Object(L.jsxs)("header",{children:[Object(L.jsx)("h2",{children:"Book Review"}),Object(L.jsxs)(N.a,{children:[Object(L.jsx)(w.a,{children:Object(L.jsx)(U.a,{href:"/",children:"Home"})}),Object(L.jsx)(w.a,{children:Object(L.jsx)(U.a,{href:"/addBook",children:"Add Book"})})]})]})}var P=function(){return Object(L.jsxs)("div",{children:[Object(L.jsx)(A,{}),Object(L.jsx)(o.a,{children:Object(L.jsxs)(s.c,{children:[Object(L.jsx)(s.a,{path:"/addBook",component:B}),Object(L.jsx)(s.a,{path:"/",component:D})]})})]})},E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,168)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),c(e),i(e),a(e),r(e)}))};n(147);y.a.defaults.baseURL="http://nologybook-env.eba-mpx2hc24.ap-southeast-2.elasticbeanstalk.com:8080/api",r.a.render(Object(L.jsx)(i.a.StrictMode,{children:Object(L.jsx)(P,{})}),document.getElementById("root")),E()},71:function(e,t,n){},72:function(e,t,n){},97:function(e,t,n){}},[[150,1,2]]]);
//# sourceMappingURL=main.983b5862.chunk.js.map